{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Food Delivery</title>
    <!--  Links -->
     
  <link rel="icon" type="image/png" sizes="96x96" href="{% static 'images/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/favicon-32x32.png' %}"> {# Assuming a 32x32 version exists #}
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favicon-16x16.png' %}"> {# Assuming a 16x16 version exists #}

    {# Apple Touch Icon for iOS devices #}
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/apple-touch-icon.png' %}">

    {# Older .ico format for broader compatibility (contains multiple sizes) #}
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}">

    {# Web App Manifest for Progressive Web Apps (PWAs) #}
    <link rel="manifest" href="{% static 'images/site.webmanifest' %}">

    {# Mask Icon for Safari pinned tabs (requires an SVG, assuming you have one) #}
    <link rel="mask-icon" href="{% static 'images/safari-pinned-tab.svg' %}" color="#5bbad5">

    {# Meta tags for Windows Tile and Theme Color #}
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">


  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'style.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
<!-- ✅ Navbar -->
<div id="notification" class="notification"></div>

<nav class="navbar">
  <div class="logo">Food Delivery</div>

  <div class="nav-links">
    <a href="{% url 'home' %}" class="{% if request.path == '/' %}active{% endif %}">Home</a>
    <a href="{% url 'food' %}" class="{% if request.path == '/food/' %}active{% endif %}">Menu</a>
    <a href="{% url 'restaurant' %}" class="{% if request.path == '/restaurant/' %}active{% endif %}">Restaurant</a>
    <a href="{% url 'contact_us' %}" class="{% if request.path == '/contact-us/' %}active{% endif %}">Contact Us</a>
  </div>

  <div class="navbar-actions">
    <div class="search-box">
      <form action="{% url 'product_search' %}" method="get">
        <input type="text" name="q" placeholder="Search products..." />
        <button type="submit"><i class="fas fa-search"></i></button>
      </form>
    </div>

    <a href="{% url 'cart' %}" class="cart-icon">
      <i class="fas fa-shopping-cart"></i><sup id="cart-count">0</sup>
    </a>

    {% if user.is_authenticated %}
      <div class="profile-dropdown">
        <img src="{% static 'images/avatar.jpg' %}" alt="avatar" class="avatar" onclick="toggleProfileDropdown()" />
        <div id="profileDropdown" class="dropdown-content">
          <a href="#">My Orders</a>
          {% if user.profile.role == 'seller' %}
            <a href="{% url 'seller_dashboard_home' %}">Seller Dashboard</a>
          {% endif %}
          <a href="{% url 'logout' %}">Logout</a>
        </div>
      </div>
    {% else %}
      <a href="{% url 'login' %}" class="login-btn">Login</a>
    {% endif %}
  </div>
</nav>




  <!-- Main Content -->
  {% block content %}
  {% endblock %}

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">

      <div class="footer-column company">
        <h3>Food Delivery</h3>
        <p class="tagline">"We deliver fresh Foods straight to your door."</p>
        <p class="desc">Trusted by thousands to make delivery easy and affordable.</p>
      </div>
      <div class="footer-column contact">
        <h4>Contact Us</h4>
        <ul>
          <li><i class="fas fa-map-marker-alt"></i> Addis Ababa, Ethiopia</li>
          <li><i class="fas fa-phone-alt"></i> +251 123 456 789</li>
          <li><i class="fas fa-envelope"></i>
          </ul>
      </div>
      

            




      <div class="footer-column links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="{%url 'home'%}">Home</a></li>
          <li><a href="{%url 'food'%}">Meanu</a></li>
          <li><a href="{%url 'restaurant'%}">Restaurant</a></li>
          <li><a href="{%url 'contact_us'%}">Contact Us</a></li>
        </ul>
      </div>

      <div class="footer-column help">
        <h4>Need Help?</h4>
        <ul>
          <li><a href="#">Delivery Information</a></li>
          <li><a href="#">Return & Refund Policy</a></li>
          <li><a href="#">Payment Methods</a></li>
          <li><a href="#">Track your Order</a></li>
          <li><a href="#">Contact Us</a></li>
        </ul>
      </div>

      <div class="social-links">
        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
        <a href="#" class="social-icon"><i class="fab fa-whatsapp"></i></a>
        <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
      </div>

    </div>

    <div class="footer-bottom">
      <p>&copy; 2025 Food Delivery. All rights reserved.</p>
    </div>
  </footer>

 
 

...
<!-- All your content above -->
<footer class="footer"> ... </footer>

<!-- Place it here, BEFORE </body> -->
<script>
  // --- Make updateCartCount() Global ---
  function updateCartCount() {
    // Always read from localStorage for up-to-date cart!
    let cart = JSON.parse(localStorage.getItem('cart')) || {};
    const totalItems = Object.values(cart).reduce((sum, item) => sum + item.quantity, 0);
    const cartCount = document.getElementById('cart-count');
    if (cartCount) cartCount.textContent = totalItems;
  }

  // --- Make showNotification() Global ---
  function showNotification(message = "✅ Product added to cart!") {
    const notification = document.getElementById('notification');
    if (!notification) return;
    notification.textContent = message;
    notification.classList.add('show');
    setTimeout(() => {
      notification.classList.remove('show');
    }, 2500);
  }

  // --- Cart Add Button Logic for Card/Listing Pages ---
  document.addEventListener('DOMContentLoaded', function () {
    // Always update on page load
    updateCartCount();

    // For all "add-to-cart" buttons (like in cards/grid, not single page)
    document.querySelectorAll('.card .add-to-cart').forEach((btn, index) => {
      btn.addEventListener('click', function (e) {
        e.preventDefault();
        const card = btn.closest('.card');
        const name = card.querySelector('h6')?.textContent?.trim() || '';
        const priceText = card.querySelector('.new-price')?.textContent || "0";
        const image = card.querySelector('img')?.src || '';
        const price = parseFloat(priceText.replace(/[^\d.]/g, '')) || 0;
        const productId = name.toLowerCase().replace(/\s+/g, '-') + '-' + index;

        // Get fresh cart, add/update
        let cart = JSON.parse(localStorage.getItem('cart')) || {};
        if (cart[productId]) {
          cart[productId].quantity += 1;
        } else {
          cart[productId] = { name, price, quantity: 1, image };
        }
        localStorage.setItem('cart', JSON.stringify(cart));

        updateCartCount();
        showNotification(`✅ ${name} added to cart!`);
      });
    });
  });

  // --- Dropdown Avatar Profile (no change) ---
  function toggleProfileDropdown() {
    document.getElementById("profileDropdown").classList.toggle("show");
  }
  window.onclick = function(event) {
    if (!event.target.classList.contains('avatar')) {
      var dropdowns = document.getElementsByClassName("dropdown-content");
      for (var i = 0; i < dropdowns.length; i++) {
        dropdowns[i].classList.remove('show');
      }
    }
  }
</script>
</body>
</html>



 

</body>
</html>
